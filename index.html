<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>




  <meta name="keywords" content="slixurd" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: ''
    },
    sidebar: 'post'
  };
</script>




  <title> slixurd </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">slixurd</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      
        

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/24/Elastic-Search-Java-API-Section-1/">
                Elastic Search Java API Section 1
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-08-24
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/24/Elastic-Search-Java-API-Section-1/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/24/Elastic-Search-Java-API-Section-1/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="配置">配置</h1><p>Maven配置。现在es的最新的release版本为1.7.1<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="title">groupId</span>&gt;</span>org.elasticsearch<span class="tag">&lt;/<span class="title">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="title">artifactId</span>&gt;</span>elasticsearch<span class="tag">&lt;/<span class="title">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="title">version</span>&gt;</span>$&#123;es.version&#125;<span class="tag">&lt;/<span class="title">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="客户端类型">客户端类型</h1><h2 id="Node_Client">Node Client</h2><p>加入ES集群中，但是不持有数据，不会被选举成为Master节点(作为clients时)，能够获取整个集群状态，执行API时可以减少一次网络跳跃。<br>因为Node Client拥有集群的数据，操作可以自动路由到操作最终会被执行的节点，而不需要制定double hop。<br>适用于客户端中需要少量生存时间较长的连接，并且Node Client相比Transport Client更加效率。</p>
<p>通过cluster.name加入集群。可以直接配置resoures/elasticsearch.yml设置cluster.name，也可以使用代码加入特定集群。<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Node node = NodeBuilder.nodeBuilder<span class="params">()</span>.clusterName<span class="params">(<span class="string">"yourclustername"</span>)</span>.node<span class="params">()</span>; Client client = node.client<span class="params">()</span>;</span><br></pre></td></tr></table></figure></p>
<p>如果希望这个节点不保存数据，不被选为Master，需要指定<code>nodeBuilder.client(true)</code>。或者将node.data设置为false。<br>data和client的区别在于，data只是不保存数据，但是可以被选为master，client不保存数据，也不会被选为master。<br>在需要进行单元测试时，可以将node设置为local模式。运行在本地JVM上，本地的两个服务可以组成一个集群。</p>
<h2 id="Transport_Client">Transport Client</h2><p>不加入集群中，只有通信的作用。用于将应用和集群解耦，用于快速创建和销毁连接，更加轻量级。<br>在没有修改集群名字的情况下可以直接使用TransportClient。<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Client client = new TransportClient<span class="params">()</span></span><br><span class="line">        .addTransportAddress<span class="params">(new InetSocketTransportAddress<span class="params">(<span class="string">"host1"</span>, <span class="number">9300</span>)</span>)</span></span><br><span class="line">        .addTransportAddress<span class="params">(new InetSocketTransportAddress<span class="params">(<span class="string">"host2"</span>, <span class="number">9300</span>)</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// on shutdown</span></span><br><span class="line">client.close<span class="params">()</span>;</span><br></pre></td></tr></table></figure></p>
<p>如果集群名字不是默认的”elasticsearch”，就需要修改yml配置或者在代码中配置。否则会提示None of the configured nodes are available<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Settings setting = ImmutableSettings.settingsBuilder<span class="params">()</span>.put<span class="params">(<span class="string">"cluster.name"</span>, <span class="string">"slixurd"</span>)</span>.build<span class="params">()</span>;</span><br><span class="line">Client client = new TransportClient<span class="params">(setting)</span></span><br><span class="line">     .addTransportAddress<span class="params">(new InetSocketTransportAddress<span class="params">(<span class="string">"172.16.63.129"</span>, <span class="number">9300</span>)</span>)</span>;</span><br></pre></td></tr></table></figure></p>
<h1 id="客户端操作">客户端操作</h1><h2 id="索引">索引</h2><p>增加一个文档实际上就是将文档添加到一个特定的索引上。<br>生成Json文档有如下4种方式。</p>
<ol>
<li>手写Json，用String自己生成一个Json。</li>
<li>使用Map，正如一般的kv对一样，该怎么写怎么写。</li>
<li><p>Jackson，可以简单的将bean序列化为Json。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">ObjectMapper</span> mapper = new ObjectMapper()<span class="comment">;</span></span><br><span class="line"><span class="keyword">String </span>json = mapper.writeValueAsString( <span class="keyword">bean </span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用Elasticsearch Helper</p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">XContentBuilder</span> builder = <span class="type">XContentFactory</span>.jsonBuilder<span class="literal">()</span></span><br><span class="line">    .startObject<span class="literal">()</span></span><br><span class="line">        .field(<span class="string">"k"</span>, <span class="string">"v"</span>)</span><br><span class="line">    .endObject<span class="literal">()</span></span><br><span class="line"><span class="type">String</span> json = builder.<span class="built_in">string</span><span class="literal">()</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>新建的API为：<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IndexRequestBuilder prepareIndex(<span class="keyword">String</span> <span class="keyword">index</span>, <span class="keyword">String</span> <span class="keyword">type</span>, @Nullable <span class="keyword">String</span> id);</span><br><span class="line">IndexRequestBuilder prepareIndex(<span class="keyword">String</span> <span class="keyword">index</span>, <span class="keyword">String</span> <span class="keyword">type</span>);</span><br></pre></td></tr></table></figure></p>
<p>可以通过client使用prepareIndex<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IndexResponse response = client.prepareIndex<span class="params">(<span class="string">"twitter"</span>,<span class="string">"tweet"</span>,<span class="string">"3"</span>)</span>.setSource<span class="params">(json)</span>.execute<span class="params">()</span>.actionGet<span class="params">()</span>;</span><br></pre></td></tr></table></figure></p>
<p>SetSource函数可以接收一个Mapper，或者一个XContentBuilder,也可以接收一个字符串。<br>execute返回一个future的子类，actionGet得到ES包装后的一个Response。这个IndexResponse中包含index,id,type,version,created五个属性。</p>
<h2 id="获取">获取</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">GetResponse</span> response = client.prepareGet(index, <span class="typedef"><span class="keyword">type</span>, id).execute<span class="container">()</span>.actionGet<span class="container">()</span>;</span></span><br><span class="line"><span class="type">GetResponse</span> response = client.prepareGet(index, <span class="typedef"><span class="keyword">type</span>, id).setOperationThreaded<span class="container">(<span class="title">false</span>)</span>.execute<span class="container">()</span>.actionGet<span class="container">()</span>;</span></span><br></pre></td></tr></table></figure>
<p>通过GetResponse保存获得的数据。prepareGet检索对应的文档。还可以使用setOperationThreaded控制执行的线程，默认为true，执行在其他线程上。</p>
<h2 id="删除">删除</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DeleteResponse</span> response = client.prepareDelete(index, <span class="typedef"><span class="keyword">type</span>, id).execute<span class="container">()</span>.actionGet<span class="container">()</span>;</span></span><br></pre></td></tr></table></figure>
<h2 id="修改">修改</h2><p>通过UpdateRequest创建Request，然后使用client的update函数更新<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UpdateRequest updateRequest = new UpdateRequest<span class="params">(index, type, id)</span>;</span><br><span class="line">updateRequest.doc<span class="params">(jsonBuilder<span class="params">()</span>.startObject<span class="params">()</span>.field<span class="params">(key, value)</span>.endObject<span class="params">()</span>)</span>;</span><br><span class="line">client.update<span class="params">(updateRequest)</span>.get<span class="params">()</span>;</span><br></pre></td></tr></table></figure></p>
<p>也可以使用prepareUpdate函数,get相当于execute().actionGet()。<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UpdateResponse</span> response = client.prepareUpdate(index, <span class="typedef"><span class="keyword">type</span>, id).setDoc<span class="container">(<span class="title">doc</span>)</span>.get<span class="container">()</span>;</span></span><br></pre></td></tr></table></figure></p>
<p>API还提供了一个类似Mysql的INSERT … ON DUPLICATE KEY UPDATE函数 upsert。<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UpdateResponse response = client.prepareUpdate<span class="params">(index, type, id)</span></span><br><span class="line">     .setUpsert<span class="params">(XContentFactory.jsonBuilder<span class="params">()</span>.startObject<span class="params">()</span>.field<span class="params">(k1, v1)</span>.endObject<span class="params">()</span>)</span></span><br><span class="line">     .setDoc<span class="params">(XContentFactory.jsonBuilder<span class="params">()</span>.startObject<span class="params">()</span>.field<span class="params">(k1, v2)</span>.endObject<span class="params">()</span>)</span>.get<span class="params">()</span>;</span><br></pre></td></tr></table></figure></p>
<p>当index，type，id三者决定的唯一文档不存在时，那么插入k1，v1的这个对象，如果文档存在，则把k1更新为v2.</p>
<h2 id="Bulk_API">Bulk API</h2><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BulkRequestBuilder bulkRequest = client.prepareBulk<span class="params">()</span>;</span><br><span class="line">bulkRequest.add<span class="params">(client.prepareIndex<span class="params">(index, type, id)</span>.setSource<span class="params">(doc1)</span>)</span>;</span><br><span class="line">bulkRequest.add<span class="params">(deleteRequest)</span>;</span><br><span class="line">BulkResponse bulkResponse = bulkRequest.execute<span class="params">()</span>.actionGet<span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<p>BulkResponse内部包含一个数组，为每一个失败的请求保留一份记录。<br>可以用于批量更新，批量删除，批量索引。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


      
    
      
        

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/06/20/30days30tech_1_bower/">
                Bower
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-20
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/06/20/30days30tech_1_bower/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/06/20/30days30tech_1_bower/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="什么是Bower">什么是Bower</h2><p>Bower 是 twitter 推出的一款包管理工具，基于nodejs的模块化思想，把功能分散到各个模块中，让模块和模块之间存在联系，通过 Bower 来管理模块间的这种联系。Bower使用flat dependency tree</p>
<h2 id="安装和使用">安装和使用</h2><p>这里使用Ubuntu，安装Nodejs和包管理npm请使用apt-get。由于Ubuntu有个包叫node，所以直接运行bower会提示出错<code>/usr/bin/env: node: 没有那个文件或目录</code>。为了解决这个问题，需要做个软链。另外大部分的依赖包都是从git上面拉取下来的，这都快成为业界规范了，因此再装个git吧。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get <span class="operator"><span class="keyword">install</span> nodejs</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> npm</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> git</span><br><span class="line">sudo npm <span class="keyword">install</span> -g bower</span><br><span class="line">//解决node文件不存在的问题</span><br><span class="line">sudo <span class="keyword">ln</span> -s /usr/<span class="keyword">bin</span>/nodejs /usr/<span class="keyword">bin</span>/node</span><br><span class="line">//解决bower没有权限的问题</span><br><span class="line">sudo chown $<span class="keyword">USER</span>:$<span class="keyword">USER</span> ~/.config/configstore/bower-github.yml</span><br><span class="line">//需要运行在非SUDO模式下，否则会有ESUDO错误。</span><br><span class="line">bower <span class="keyword">install</span> jquery</span></span><br></pre></td></tr></table></figure>
<p>缓存目录位于<code>~/.config/configstore/bower_components</code>。可以通过find自行查找<code>find ./ -name bower_components</code></p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//列出所有当前路径下的包</span><br><span class="line"><span class="keyword">bower </span>list</span><br><span class="line">//搜索</span><br><span class="line"><span class="keyword">bower </span>search <span class="keyword">bootstrap</span><br><span class="line"></span>//包信息检索</span><br><span class="line"><span class="keyword">bower </span><span class="preprocessor">info</span> <span class="keyword">bootstrap#3.0.0</span><br><span class="line"></span>//初始化创建<span class="keyword">bower.json</span><br><span class="line"></span><span class="keyword">bower </span>init</span><br></pre></td></tr></table></figure>
<p>随后可以开始创建页面。如果当前目录没有出现bower_components这个文件夹，可以重新运行一次bower install package。<br>引用包的路径为<code>bower_components/packagename/dist/filename</code></p>
<p>示例：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>Learning Bower<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">button</span>&gt;</span>Animate Me!!<span class="tag">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">style</span>=<span class="value">”background:red;height:100px;width:100px;position:absolute;”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">”text</span>/<span class="attribute">javascript</span>” <span class="attribute">src</span>=<span class="value">”bower_components</span>/<span class="attribute">jquery</span>/<span class="attribute">dist</span>/<span class="attribute">jquery.min.js</span>”&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">”text</span>/<span class="attribute">javascript</span>”&gt;</span><span class="javascript"></span><br><span class="line">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                $(“button”).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    $(“div”).animate(&#123;left:’<span class="number">250</span>px’&#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="参考">参考</h2><p><a href="http://bower.io/#getting-started" target="_blank" rel="external">http://bower.io/#getting-started</a><br>//这个html的引用路径出错<br><a href="http://blog.fens.me/nodejs-bower-intro/" target="_blank" rel="external">http://blog.fens.me/nodejs-bower-intro/</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


      
    
      
        

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/05/11/nagaimichi/">
                漫长的实习求职
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-05-11
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/05/11/nagaimichi/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2014/05/11/nagaimichi/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>经历了漫长的3月和4月,终于走完了实习校招季,下面做个小结以后再分别说各个公司</p>
<p>从最早3月初的广研笔试,到最迟4月下旬的WPS笔试,一直到4月23拿到企鹅offer,5月初拿到阿里offer</p>
<p>曾在被网易HR刷掉以后一度想放弃实习,好好蹲宿舍自己看书,网易是我最早走完所有流程的公司,因此也投入了很大的期望,当我得知他们已经签约我却被刷的时候那种失落感无发言表,当然,福无双至祸不单行,网易签约那天也是我广研终面那天,于是我带着绝望的心情去总监面,当他问及我遇到的最难的问题的时候,我轻蔑的说了:没有,都能google到的东西有什么难的,于是我又愉快的被广研刷掉了.</p>
<p>在4月份来回骑行深圳以后,我才振作起来,开始把面试官问道的一切我不知道的内容搞懂,确定自己的方向并且为面试做准备.在拿到腾讯offer后轻松迎战金山和阿里,由于STL基础实在不足被金山刷掉,阿里那边则飞快的完成面试,因为那天也是我腾讯签约的日子,结果我为了在阿里面试迟到了1个多小时.直到签约结束我才知道,原来只要和HR说自己已经拿到腾讯offer,就可以获得当场签约阿里的特殊优待,可惜我知道的太晚了.</p>
<p>好,回到总结.按照最后一场面试的时间排序:</p>
<ol>
<li>腾讯广研:走完面试流程-笔试-初面-项目-总监面-在小组都收到拒信的情况下我被默拒</li>
<li>网易游戏TTT:走完面试流程-笔试-技术一面-技术二面-HR面-被拒</li>
<li>腾讯深圳:走完面试流程-笔试-技术一面-技术二面-技术三面-HR面-OFFER</li>
<li>金山WPS:笔试-技术一面-被拒</li>
<li>阿里巴巴:走完面试流程-笔试-技术一面-技术/HR同时二面-OFFER</li>
</ol>
<p>按照笔试时间排序: 广研-网易-腾讯-阿里-金山</p>
<p>笔试难易度排行:网易游戏阿里巴巴广研腾讯金山WPS</p>
<p>但是就考试压力来说,阿里巴巴要和网易游戏换个位,阿里选错倒扣.</p>
<h2 id="笔试">笔试</h2><p>先从基础说起,其实笔试不需要非常熟悉的掌握那些知识,毕竟我们是在和别人比,因此只要能够比周围大部分都高那就足够了,不需要追求一定要拿高分,反正面试的时候不见得因为高分就有优势.</p>
<h3 id="广研">广研</h3><p>(对了,13年和14年题目基本一致,15年如果你准备去广研并且对自己笔试没信心,务必请先搜索</p>
<ol>
<li>计算ackerman(3,3),当然只有基础公式没有每一层的公式,只要花点时间就可以解决</li>
<li>catalan数,求1,2,3,4,5顺序入栈那么出栈有几种排列.</li>
<li>26进制转换(手写代码,当然相当简单,而且实际上广研评分不计代码题</li>
<li>SQL语句在数据库中的执行顺序(GROUP/HAVING<br>其他的题目真的很基础,例如TCP/IP,OSI模型,排序稳定性,排序时间复杂度,排序空间复杂度,二分查找手写或者修改<br>数据库,还有#define.</li>
</ol>
<p>还有稍微问到一些LINUX相关的内容,例如time的结果:real,sys,user的意义,基础命令.目录结构,</p>
<p>此外还有一些计算机相关但不是非必学的内容,例如windows栈大小,这些只能靠平时积累(其实还是考前搜一下历年题目比较靠谱)</p>
<h3 id="网易游戏TTT:">网易游戏TTT:</h3><p>网易游戏的笔试题是我做过的题目里面最难的,先亮一道内存对齐的题目吧:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> node&#123;</span><br><span class="line"> <span class="keyword">int</span> a;</span><br><span class="line"> <span class="keyword">short</span> <span class="keyword">int</span> b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"> node t;</span><br><span class="line"> t.b=<span class="number">0x0102</span>;</span><br><span class="line"> <span class="keyword">char</span> * p = (<span class="keyword">char</span>*)</span><br><span class="line"> <span class="built_in">cout</span>(<span class="keyword">int</span>)*(p+<span class="number">4</span>);<span class="comment">//写出结果</span></span><br></pre></td></tr></table></figure>
<p>此外还有写出写出绕Y轴旋转的旋转矩阵,C指针的判断和处理,二分查找,快排,短路运算符及括号内运算次序,</p>
<p>这样的宏有什么错? <code>#define assert(e) if(!e) assert_error(_ERROR_LINE)</code>, (实际上就是e外面缺括号)</p>
<p>类继承以及类继承以后对ctor/dtor的调用顺序,linux的fork执行顺序,bash的标准重定向(例如 ./program file 2&amp;1 )</p>
<p>还有一些编程题,大部分都是N选1来写,写自己最熟悉的代码就好,约瑟夫环,纸牌顺子判断,程序改错</p>
<p>另外需要注意的是试卷分为两部分,基础部分如果分数不达标就直接PASS不看后面的题目</p>
<h3 id="腾讯/金山">腾讯/金山</h3><p>为什么放在一起写?因为这两个实在太简单了,简单的一个半小时的试卷我都在40分终左右交卷走人</p>
<p>另外腾讯笔试签了保密协议,所以大概说个方向:</p>
<p>笔试中规中矩,相比其他科技公司的笔试,腾讯笔试更像研究生考试多一些(什么,你说我都没考过研究生怎么知道像研究生考试?)</p>
<p>总而言之,涉及到各种基础题,计算机网络,操作系统,甚至连js都有,更别说C/C++了(反正还是注意指针,char,类等基本只是).不过其实只要上课有认真学,自己也稍有编码的话基本不成问题</p>
<p>金山WPS就更搞笑了,题目简单的无力吐槽,我觉得大二学生也能轻松过</p>
<p>大题都非常简单,例如对一个student的类进行函数补全及二次封装,几个长方形堆叠起来以后计算至少要多大的长方形才能覆盖住前面的长方形(提供每个长方形的x,y,w,h)</p>
<p>对SHAPE类,TRIANGLE,LINE类进行简化,这简直就是大一都会写的题.</p>
<p>最难的是最后一题,不过可以只写伪代码:根据字典(KV对)来进行翻译,最好能够实现最长匹配,例如(go 去 , home 回家 , go home 回家,这样遇到go home翻译为回家而不是去家),扩展是逆向翻译</p>
<h3 id="阿里巴巴">阿里巴巴</h3><p>对于选错倒扣这种考试方式,实在太考验心理了</p>
<p>du/df的区别,多路归并复杂度,快排复杂度,概率论,几道IQ题,跳跃链表求单次查找的平均复杂度,如何做均衡负载防止SPOF和保证健壮性.修改错误的二分查找代码.malloc,根据树的度求叶子数.50fps的640*360的24位真彩色视频能否在24Mpbs的蓝牙下传输,C的malloc/calloc/realloc.</p>
<p>有个比较有意思的题目:</p>
<p>某次比赛,按照强弱编号1-8.当编号强弱对比小于等于2的时候可能爆冷.先进行1/4,然后1/2,然后决赛,请问哪个获胜几率最高.</p>
<h2 id="面试">面试</h2><p>面试只挑个别的来讲讲,很多大同小异的就没有必要复述了</p>
<p>比较常见的问题(一般都会根据简历来问,所以项目不熟悉请不要乱写):</p>
<ol>
<li>介绍自己写过的比较得意的项目,详细叙述一下系统的结构以及你所负责的区域</li>
<li>你在项目中遇到了哪些困难,如何解决的(这个也算是广研总监唯一问的一道题)</li>
<li>最近有看什么技术书籍,有什么收获,挑几个用自己的语言描述一下问题及解决方案</li>
</ol>
<p>有兴趣的可以看看一篇不错的文章 <a href="http://www.cnblogs.com/shaohz2014/p/3690808.html" target="_blank" rel="external">不是技术牛人，如何拿到国内IT巨头的Offer</a></p>
<p>每个公司都有自己不同的侧重方向,所以请找准重点.</p>
<p>以我后台开发的角度看,腾讯非常侧重项目,大片的时间叙述项目的结构和处理.网易侧重基础,而且问的很深入,无论是C/C++编程方面还是数据库,对项目也比较有兴趣.<br>阿里问的很均衡,一部分算法,一部分项目,特别喜欢问EPOLL,金山WPS除了问底层实现就是STL底层实现</p>
<p>对了,注意准备好自我介绍,部分面试官会要求自我介绍,但是也有很多面试官不让我自我介绍,比例大概在2:3的样子.</p>
<h3 id="腾讯技术3面(BOSS面):">腾讯技术3面(BOSS面):</h3><p>腾讯面试3场分了3天,中间间隔N天</p>
<p>3面的面试官是我未来部门的BOSS,他也是在我十几场面试生涯中,唯一一个做了自我介绍的面试官</p>
<p>然后开头就告诉我,会从5个方向来进行这次面试</p>
<ol>
<li>设计与开发:请基于一种协议(TCP/HTTP etc)设计一个可扩展的网络协议,用登陆来作样例解释这个协议的字段和方法</li>
<li>项目经历:介绍项目系统结构,遇到困难点和如何解决</li>
<li>计算机基础:介绍数组,链表,树,哈希表,TCP.IP.UDP.HTTP的特点.字符编码的转换UNICODE,UTF-8,UCS-2,GBK,GB18030</li>
<li>业界视野:互联网产品有什么特点,与传统产品有什么不同</li>
<li>生涯规划:未来的发展路线</li>
</ol>
<h3 id="网易TTT:">网易TTT:</h3><p>技术一面和技术二面在一个早上内结束,如果一面失败就不会有机会二面</p>
<ol>
<li>如何在一个语句内执行”有就更新没有就插入”. 实际上就是MYSQL扩展语法 INSERT … ON DUPLICATE KEY UPDATE …</li>
<li>apache和mod-php之间怎么传输数据</li>
<li>CI底层如何路由</li>
<li>SOCKET的服务原语,实现,使用</li>
<li>C++基础,例如复制构造函数,深浅拷贝,虚函数表的实现, struct和class的区别(本质只有访问权限的区别),NEW和MALLOC的区别</li>
<li>AJAX实现原理和机制,JS的常用方法</li>
<li>数据库底层,例如分快读取,行储存,列储存,NOSQL和SQL等</li>
</ol>
<h3 id="金山WPS:">金山WPS:</h3><p>因为面试的时候我已经有了企鹅的offer,所以只是抱着经历人生的想法去的.不过这个面试官让我对金山的印象瞬间提高了几个档次<br>问题:</p>
<ol>
<li>请问你用过智能指针吗?先讲一下用法,然后描述一下底层数据结构及实现(我讲了share_ptr)</li>
<li>请问你用过vector吗?讲一下底层实现然后手写一下用iter反转vector的代码</li>
<li>介绍一下常见的数据结构</li>
<li>手写memcpy,并问了需要注意什么地方(其实就是防止内存覆盖)</li>
<li>还有一些其他的一些算法和STL源代码,已经记不太清了</li>
</ol>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


      
    
      
        

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/08/06/springseed_node_webkit/">
                SpringSeed-极简笔记软件
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2013-08-06
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2013/08/06/springseed_node_webkit/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/08/06/springseed_node_webkit/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="SpringSeed">SpringSeed</h1><h2 id="前言">前言</h2><p>已经几个月没有上过OMG! Ubuntu了,今天突然兴起翻了一下,就看到这个优秀的笔记软件.正如作者所说的一样,这个笔记软件简洁,美观,没有一丝累赘的功能,由node-webkit驱动,整个软件本身(不包括nw)才3M.虽然目前只有Ubuntu版本,不过大概在windows下也可以使用,毕竟nw就是为此而生的.此前我也不知道原来有node-webkit这样的东西,查了以后才发现nw实在太优秀了.前端从此可以开发本地软件了,而且相比常规开发而言,更容易做出优秀的界面和交互,这些都是native app难以做到的.(当然,也有缺点,例如下载打包好的deb,几乎都是30M以上,因为需要放一个40M的nw执行文件,下载一个无所谓,但是下载多了以后未免觉得烦)</p>
<h2 id="软件介绍">软件介绍</h2><p><img src="http://i.imgur.com/WWJ2oNz.jpg" alt="springseed"></p>
<p>其实真不用介绍,这个软件的功能很简单很简单,只要会markdown,这个软件几乎是立刻就能学会的.当然这里的markdown和标准的markdown也不太相同,在目录coffeescript/app.coffee里稍微翻一下就可以发现这个markdown标准是作者自己实现的(虽然说写的和通用的markdown也差不多),而非标准的markdown,所以有的特性无法支持,也有不同的语法,例如 <code>~~~</code> , <code>~~</code>.基本功能都有.代码高亮也需要另外添加.</p>
<p>另外有一个bug,有时直接输入网站地址以后点击不会在浏览器打开页面,而是直接在软件本身就打开了这个网页,此时无法后退回软件界面.只能关掉重开,幸好软件本身是隔一段时间就保存的,不会丢失太多数据.当然这个问题不是软件写的有问题,应该是nw自身的问题,之前使用koala(一个SASS,LESS的预处理器)也有同样的问题.</p>
<p>还有一个比较严重的BUG,如果在登录了dropbox被自动同步以后,退出dropbox,然后继续编辑以写的笔记,隔一段时间再登录dropbox,笔记会被还原到上次被同步的状态.切记切记= =……</p>
<p><img src="http://i.imgur.com/qn18tSy.png" alt="dropbox"></p>
<p>用markdown的好处就是,做完笔记以后可以直接copy到github pages上,只要稍微注意语法即可.其实,之前还遇到一个非常优秀的软件<a href="http://marboo.biz" target="_blank" rel="external">marboo</a>的,可惜作者不愿意开源,只有mac版,而且UI做的非常的抱歉.另外大概会有人质疑,为什么不用神器evernote,为什么不用国产的wiz.之前都试用过,感觉非常的不好.以前我在windows下的时候常用的软件是MyBase,一款很多年都不更新但是我依然无法抛弃的软件.然后直到去年10月我转投linux以后就开始用cherryTree了.我本身并不太需要多设备多平台同步,因为我写的要么是学习记录,要么是零零碎碎的想法,前者需要的时候我会直接发到github pages上然后通过pocket来让我各个终端可以查看,后者更需要在电脑面前慢慢补完,很多东西是不在电脑前做不了的..其他原因就不详述了.</p>
<p>用markdown的另外一个好处就是,作为前端,在只需要基础的表达的时候完全可以只用markdown的语法来写,但是无法满足需求的时候我可以通过直接编写html和内联样式来达到我想要的效果.由于写了一段时间的css了,现在感觉写代码比所见即所得的编辑器更加有效率和稳定,虽然这样违背了markdown的初衷.</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


      
    
      
        

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/07/13/nagaimichi_xiamen/">
                远行厦门
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2013-07-13
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2013/07/13/nagaimichi_xiamen/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/07/13/nagaimichi_xiamen/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>一如既往的先放数据,虽然越来越觉得数据只是虚幻.</p>
<p>7.3 17:00-23:00        87.1km(未计入总里程)    广州-佛山千灯湖-广州大学城 </p>
<p>7.4 07:00-24:00        150.7km    广州大学城-惠州郊区 </p>
<p>7.5    05:40-25:30        304.3km    惠州郊区-陆丰城区</p>
<p>7.6 09:30-16:00        353.9km    陆丰-惠来东港(下雨&amp;回老家)</p>
<p>7.7    老家蹲</p>
<p>7.8    05:30-17:00        497.9km 东港-汕头澄海</p>
<p>7.9    09:00-22:00        587.3km    澄海-揭阳-金平</p>
<p>7.10 08:30-21:00    718.8km    金平-福建云霄</p>
<p>7.11 06:30-26:00    887.7km 云霄-厦大</p>
<p>7.12 05:40-19:00    931.5km    厦门环岛</p>
<p>7.13 05:50-08:00    953.3km    天河客运站-大学城</p>
<hr>
<p>全程1040km,耗费11天.不过第一天不算正式开始,只是把同学从佛山接过来而已.当天早上还去公司上班努力把网站写完才走的,完成的时候下午4点30,冲回宿舍收拾了一下就出发佛山了.所以应该算是9天吧.以后大概很难找到一段这么长的时间来挥霍了吧.</p>
<p>当一个人无聊的时候就会想很多东西,尤其是在骑行的过程中,并不是到处都是越野道,也不是到处都是下坡,不可能全程都有翻山越岭的快感.逐渐开始怀疑自己骑行的意义,,不知道为了什么才要出发做骑行旅行.不知道为什么没事就会踩着勇士出门到处晃上几圈.就像只是为了弥补小的时候没有买到自行车,所以将积聚的精力在这短短的时间内全部爆发出来一样.然后当新鲜感过了的时候就开始觉得没有意义了.开始对这项枯燥的运动感觉到麻木,锻炼也好,休闲散心也罢,似乎都不值得这样去做.平时骑一次也要花上几个小时,这次更是十多天的旅程,时间似乎还没有廉价到可以如此挥霍.</p>
<p>骑行结束之后的迷茫也要来的比其他的旅游更加深.骑行最大的痛楚就是当你以为你用毅力征服了全世界，然而回到原本的生活的时候，你发现什么都没有改变，只是骑行那段时间的活该死的被推到回来以后再做.</p>
<hr>
<h2 id="旅途">旅途</h2><h3 id="第一天">第一天</h3><p>出发的第一天.7月4号.早上6点半的闹钟,7点收拾完成下楼,才发现没带钥匙.不过幸好除此之外大部分东西都戴上了,没带泳裤和泳镜大概是唯一的遗憾.</p>
<p>其实这次的出发很勉强,因为前几天刚刚大病了2场,没错,2场.上上周日的时候开始发烧,而且由于长期熬夜和夜骑导致很严重,那一天睡了大概十六十七个小时,然后周二好了以后继续熬夜和夜骑,上周六又发烧了,周日头痛不止.出发的前一天还在吃布洛芬.不过出发那天总算精神比较好.</p>
<p>由于这是第一次骑行,所以准备了很多东西,用的上的用不上的.导致行李过重,而且一开始只有一条扎带,却有两个包,捆的很辛苦.大概说说这次带了的东西:</p>
<p><img src="" alt="出发"></p>
<p>1.半指手套一副(其实推荐全指手套,否则骑完回来手指半截黑<br>2.袖套一对(如果有长袖骑行服或紧身衣,长袖速干衣可以不用袖套<br>3.头盔<br>4.手电<br>5.车后灯<em>3<br>6.头巾</em>3(事实证明多带头巾是正确的选择<br>7.修车工具全套(拆卸工具,补胎工具,气筒<br>8.短袖3套+长袖1套<br>9.排插<br>10.移动电源<br>11.手机<em>3(一部导航一部打电话一部上网= =……..事实证明打电话真不多,两部足矣<br>12.拖鞋+基本生活用品(没带洗衣粉是永远的痛,虽然其实可以路边买<br>13.货架<br>14.内胎</em>1<br>15.保鲜袋<br>16.袋装零食<br>17.水壶*2</p>
<p>全部加在一起将近20斤,实在不算轻量,加上勇士原本就三十几斤,整车超过50斤了.第一天走的时候感觉操控起来就略悲剧,不过踩了几个小时也就习惯了.</p>
<p><img src="http://i.imgur.com/7cauFTO.jpg" style="width:30%" alt="出发"><br><img src="http://i.imgur.com/Q4XfqLB.jpg" style="width:30%" alt="热"><br><img src="http://i.imgur.com/kiYAIH1.jpg" style="width:30%" alt="惠州的某塔"></p>
<p>第一天很热,走在路上看到远方的路都难以接受.中午在一个很凉爽的公园休息,从12点多休息到4点才重新出发.可想而知,这样还想要按照预订行程骑到目的地就要熬夜了.</p>
<p>事实证明,的确熬夜了,24点的时候才找到地方搭帐篷,在惠州接近惠东的郊区.大概所谓的运气差就是说的我这样的人吧.在晚上11点停下来休息的时候被不知道什么虫子咬了两口,其实当晚还好问题不大,第三天的时候就肿了一大块,连站起来都疼,G+上的变态医生给了不少建议,后来买药擦了以后隔了一段时间才慢慢没有那么痛.医生君还是很好人的.</p>
<p>前往惠州的路上稍微绕了一段远路,没有直接上G324,而是走了博罗县,然后再一次感叹,原来S238并不是最烂的路,博罗那段路才是最烂的,所有的公路都打了洞,但是就是不拆不修,就那样让别人走.晚上吃饭的时候就和同行的人吵架了,出发第一天就不顺利.</p>
<h3 id="第二天">第二天</h3><p>第二天早上5:40看到天亮就醒了.原本的计划是第一天180KM,第二天170KM.然后就可以到我老家了,在老家住一晚+半天再骑120KM去汕头蹭同学家.结果第一天和第二天一共才走了300KM.出乎意料的慢.</p>
<p>第二天,在去鲘门的路上,早上9点就热得发慌.10点钟休息的时候我才决定打电话告诉父母我要骑车去厦门.很自然的,被骂了.先打给老妈,花了十几二十分钟终于说服了她,然后后来她又告诉我爸,我爸打电话过来继续骂,以往都是老爸比较好说服,没想到这次倒转过来.总而言之,那一天接了很多电话,他们陆续打来很多次,让我别骑了,让我回家.当然我没有同意.最后还是说服了他们.老爸出于关心就打电话给了很多亲戚,毕竟作为一个潮汕人,在这一路上满满的亲戚.很可惜我们走的太慢,没有成功到达任何一个亲戚家.早就听闻海陆丰很乱,作为一个潮汕人对此并不了解,还真是丢脸,我妈不断的打电话来和我说一定不要晚上在海陆丰骑车,很容易被抢劫的,不过最后还是决定熬夜骑完海陆丰.事实上,也看到了不少很乱的场景,饭桌上开始打架砸卓碗的夫妇,不良青年飙车党..晚上凌晨1点半才到陆丰,然后又吵架了.</p>
<p>关于吵架的事情就不多说了,一些相关想法后续再说,后来我在给正在准备骑厦门的同学的同学tips的时候就让他一定要和别人签署责任自负书.绝对不要自己承担任何责任,因为这是没有必要负责的东西,作为一个成年人,这些东西是自己的责任,不在于任何人.但是如果没有书面签署的声明,谁也不知道到底是谁的责任.更别以召集人或者负责人这样身份自居,绝对会吃亏的.</p>
<p><img src="http://i.imgur.com/3lxgQTO.jpg" style="width:30%" alt="雨后"></p>
<h3 id="第三天">第三天</h3><p>酒店睡到9点多才起床,早上6点钟老妈打电话过来慰问的时候发现下雨了,所以就没有那么早骑车的打算了,毕竟我没有挡泥板,没有雨罩,没带雨衣,没法骑快.10点钟骑车的时候,从陆丰市区去博美镇的路上,开始下雨,很悲剧的书包没有扎紧,松了以后被车轮磨了几十米,3月份刚买的书包就这样报废了,不过还好没有全部穿洞,还勉强能用.后来就淋着雨赶到了博美,途中雨大的时候还是随便找了地方避雨.只骑了15公里,大概11点的时候就直接在博美休息了.看到博美居然有镇短号群,这样绝对是作弊的存在.如果广州或者深圳也能有区短号群那有多爽.</p>
<p>下午2点钟还在下着小雨,同伴就说他要回海丰然后坐车去汕头.我则决定要一路骑完它.于是我们分别了.</p>
<p>很幸运的是,在分别后的十五分钟之后,雨停了.我得以顺利骑回老家,毕竟就只剩下三十多公里的路.一路上也没有再下雨了,慢慢的路干了以后我就能用时速25飞奔回去了.回去的路上注意了一下码表.最高速度仅仅32.均速也才16.回到家的时候再看码表,最高时速已经将近50,均速当然没有明显的提升,毕竟30公里的路改变不了300公里的均速.</p>
<p>然后我第一次去到了自己家乡的镇上.作为一个回家次数不超过10次的人,还从来没有去过镇里.镇政府破旧的难以想象.</p>
<p><img src="http://i.imgur.com/3lxgQTO.jpg" style="width:30%" alt="雨后"><br><img src="http://i.imgur.com/3IY1ZCJ.jpg" style="width:30%" alt="满是盐的袖套"><br><img src="http://i.imgur.com/4HEgRtQ.jpg" style="width:30%" alt="东港"></p>
<p>从镇里出去以后,我找不到家乡在哪,打电话给大伯求助,然后被笑了,居然不知道自己老家在哪.说实话,如果不是因为今年的清明刚好回来了一趟,知道老家在长围村附近,也许更找不到在哪里.无奈我们家乡太小,在google maps上没有显示出来,而且村名居然是”新村”,这种名字更是难找.后来找人问路之后终于找到.悲剧的是我找不到大伯他家在哪.后来问了一个大妈,我专门还用潮汕话来问,结果她似乎没听懂,转而用蹩脚的普通话来问我想干嘛= =.我告诉她我就是这乡里的人,来找亲戚.她问了很多,结果我不知道我大伯的名字,不知道小舅的名字= =.后来说到我住深圳的时候她才大概猜到我是谁,帮我带路了.晚上她去大伯家,说一开始以为我是北佬,潮汕话讲的又烂.我表示这真不是我的错,还能讲潮汕话已经很不错了.</p>
<h3 id="第四天">第四天</h3><p>早上5点半,准备出发去汕头,结果起来以后突然就下大暴雨了.然后把车推到可以避雨的地方.幸好没有淋湿.遂决定在家里多住一天.没想到那一天就下了早上半个小时的雨.一整个上午都蹲在家里打纸牌,把windows自带的所有的纸牌类游戏都拿出来打,来来回回打了近百盘.下午就跟着大伯上山给龙眼打药.他在给龙眼上药的时候我就去旁边的荔枝林摘荔枝.果然新鲜的荔枝才是真爱.吃了几斤荔枝心满意足.山上还有小溪,听说天气热的时候很多小孩在那里游泳,可惜我不敢直接裸着下去游,又没带泳裤.而且当天气温也比较低.小溪里还有不少鱼,如果真能下去游泳顺带抓鱼,那得有有惬意.</p>
<p><img src="http://i.imgur.com/Nq624zb.jpg" style="width:30%" alt="荔枝"><br><img src="http://i.imgur.com/Ja7O1lE.jpg" style="width:30%" alt="荔枝"> </p>
<h3 id="第五天">第五天</h3><p>早上依旧5点半.同样下了一场雨,不过只有十分钟.带来的后果就是外面泥泞不堪,导致速度上不去.出发前,大伯让我带4斤荔枝和2斤干荔枝路上吃,如果吃不完就扔给在汕头的表姐.事实证明,我压根就没有打开来吃,他加了一条皮筋,捆的太牢,我都不想打开了.即使外面的路很烂,即使坑坑哇哇还有水,那一天的骑行大概是我这一路上最高兴的时候.早上6：50村口出发，11点的时候就踩了75公里。还要除掉打了个电话的十分钟和清理烂泥重新上油的十五分钟。虽然这么看来速度还是很慢，但是，要知道这里是农村，烂泥路和裂的不像样的公路有十几公里，那种路时速能有15就谢天谢地了，有水坑的路连12都没法踩，让我没有挡泥板。路况好的路基本踩25，在接近潮阳的一段路上32飙过去，然后发现tm的走过头了。中午就进了潮阳城区,在文光塔下呆了一个多小时,和别人聊天.真觉得那个时候很幸福.午餐吃的是以前从来没见过的鳖粿.</p>
<p><img src="" alt="文光塔"></p>
<p><img src="" alt="午餐"></p>
<p>下午就轻松到了濠江区.那两个小时里面我遇到了第一个车友,他从东莞一个人骑去上海.我遇到他的时候是因为礐(来,和我一起念,que,第四声)石大桥不给自行车上.后来一个摩托车大叔过来引开那个售票员大妈,让我们赶快冲的时候,他还是没敢冲出去.我们只好作罢去码头.原本打算一起骑汕头的,可惜我看到礐石风景区和金山中学,突然决定要去看看,但是他希望赶路.所以就分开了.不得不说金中环境真的很好,和在市中心的深中相比有不一样的韵味.</p>
<p><img src="" alt="金中"> <img src="" alt="码头"></p>
<p>去到汕头市区以后在表姐家蹭饭,然后去同学家蹭睡.虽然途中遇到第一次爆胎,不过准备充足,也没什么好担忧的,只是拆掉驼包再补胎花了很长时间而已,总计将近半小时吧.一路上心情大好,即使爆胎也改变不了愉悦的心情.</p>
<h3 id="第六天">第六天</h3><p>转身回揭阳.也是很大的一个转折.让我对此次旅行的意义产生了怀疑.</p>
<p>具体我就不说了,知道的人就知道,不知道的我也不想让人知道.黑历史这种东西总是知道的人越少越好.</p>
<p>当我在出发的时候觉得这样才是青春,这样才是我所追求的人生,回来的时候却觉得去他妈的青春.全身脱力的感觉，路边骑车60岁的大妈都随便赶超我。回程途中一直在质疑此行的意义,最后也未得而知.于是到处询问意义,虽然觉得别人所说的是无法说服我自己的,但是依旧想要在别人身上寻找寄托.晚上10点的时候,发了条短信给表姐,说我想回广州了.正式表示弃权.后来也和不少人聊天,有劝我别放弃的,也有让我自己想怎样就怎样的.如果没有和他们聊天,也许我就真正放弃了吧.虽然找不到意义,不过都已经走了一大半的路了,在快要结束的时候才放弃,实在是太愚蠢了.有种结束是因为看不到终点,经受不住等待而放弃,即使终点就在不远的地方.而我这种明知道终点就在200公里以外,这样都还放弃的话,就太对不起自己了.会画画的菊苣说过,虽然她画画有很辛苦很想放弃的时候,也会咬咬牙继续下去.因为喜欢啊.大概就是因为喜爱才会这样坚持的吧.或许我也真的是喜欢骑行这项运动的吧.</p>
<p>睡了一觉醒来以后还是决定继续出发.毕竟只剩下两天的路了.</p>
<h3 id="第七天">第七天</h3><p>一不小心睡到8点才起床,原本打算6点起床的.起床出发去找早餐,在一个小巷里面吃了一份肠粉,果然潮汕的肠粉很良心,加了各种各样的东西,当然少不了虾和贝,鸡蛋,瘦肉.随后从金平区一直沿南边的公路走,没有走G324,原本是打算去坝头的沙滩边上露营的,由于队友的原因,又没法去了.本来约好在汕头见面,结果等了两天也没来.早知道他不来的话我就直接从揭阳去潮州看完之前在肇庆遇到的大姐大了,不过世事没有后悔这一说.后来只好决定放弃沙滩,直接赶路去福建.中午11点的时候就到了广东极东的城市:饶平.事实上,我没有进城,在距离几公里远的地方远远地眺望了一下破败的城市.享受一下最后的省内流量,最后和别人聊一下天,然后出发千万福建.事实上= =,后来还是禁不住诱惑开了省外流量包.如果早点开也许会更好一点.</p>
<p>进了福建,绵延两百公里的山路,不断的起伏,几乎没有平路可言.但是出奇的路况极其的好,即使没有什么人去的路,公路都修得很好.也许只是我来错季节了,大概花季的时候会有很多车(那里是花城).在那绵延的上下坡骑行简直就是一种享受.虽然上坡坡度很大,只能用十三十四的速度慢慢骑上去( 没错,即使是上坡也比和同学一起骑的快),但是下坡却可以以均速40的速度冲下去,体验山路的快感.而且由于在山里面,非常的凉爽,以至于下午6点时候冷的我套上了外套.</p>
<p>福建的庙多的惊人,我从来没有想过居然有什么地方能比潮汕更多人信佛.隔一小段路就有一间佛庙,一开始很还有兴趣的路过一个就停留一下拍照,后来就厌倦了,都是那样.</p>
<p>进入福建以后,可以看到很多广告牌在宣传一种运动饮料:盐典.这是一种无比奇葩的运动饮料,他的宣传口号就是带汽的运动饮料.喝起来感觉烂透了,喝得快,就只感受到盐水和苏打水混合的味道,慢慢喝又像稀释的宝矿力水特加盐,我是无法理解为什么这样一种饮料销量居然还能破亿,大概是福建人都比较重口么?晚上到了云霄,云霄是我除了汕头和老家以外停留的最久的城市,把大街小巷都逛遍了,因为当时到达的时候才8点,又不想继续赶路去漳浦,因为到厦门只剩下不到130公里.妥妥的第二天下午到.于是到处乱转,而且云霄本身也很繁华,比惠来,饶平都繁华的多,到厦门的最后一段路也就这个大一点的城市了.这里吃饭的价格便宜的让人惊讶,2个肉菜才5块,想想我们学校一个稍微有点肉的也要5块,这消费水平低的可以.出乎意料的是,住宿比汕头还要贵.</p>
<h3 id="第八天">第八天</h3><p>同样不着急赶路,早上7点多才出发.上路之前买了只矿泉水.喝了一大半才想起看生产日期= =,结果发现是过期的.但是那里前不着村后不着店,离下一个镇还有十几公里= =,没办法还是只能喝掉.幸好只是矿泉水,过期的大概也就是菌落过多而已,问题不大,也没肚子痛也没怎样,略幸运.相比第一天买的那个过期零度,连味道都变了,队友还说怎么零度变得这么好喝了,我喝了一口就发现不对劲去查生产日期= =.出发的时候顺带买了一斤多的散装食品.最后一天采用十公里喝一次水,二十公里休息5分钟并且吃一点东西的方式.定时定量的补给的确让整个旅途轻松了不少.不用像和队友一起的时候慢慢骑,但是一次又骑很久那种自虐式骑法.要骑车就要骑出踏频,这样以来不但双脚可以承担一部分的体重让屁股没那么痛,另外一方面也可以降低大腿肌肉酸痛和膝盖受伤的概率.中午1点左右的时候就到达龙海市.路上吃了不少次四果冰,第一次吃的时候以为那东西只能选4样,结果选了4样以后他很神奇的问我就要这四种?在大中午骑车热得发慌的时候能吃四果冰实在是一种享受.而且每家店的做法都不太一样,有用冰糖的,有用糖精的,也有用不知道什么名字的甜味剂的.</p>
<p>由于从来没有人告诉过我海沧大桥是禁止自行车摩托车上桥的,后来查了才知道:海沧大桥是世界第二、亚洲第一座特大型三跨连续全漂浮钢箱梁悬索桥，也是厦门市历史上投资最大的交通工程项目，工程全长5926.527米.所以我很悲催的绕了远路走过去,否则还会再早两个小时到厦门.而且经历了一段更烂的路:角江路,全是沙,轮胎陷进去以后就拔不出来了,速度也不够快,所以就直接摔车了,这是我这一路上惟一一次摔车.当然由于速度很慢,没受伤,只是双手和车都沾满了沙,手有点痛而已.所以我到海沧大桥以后就告诫第二队,让他们一定别再走错路了.直接去厦大漳州校区坐船过去.后来由于不想骑车绕道十几公里,所以最后搭了的士过去,后备箱太小,放不下整车,只好前轮悬空架在外面.然后用松紧绳简单固定.一路上我都担心车掉下来,然后引发一连串的车祸.</p>
<p>于是,我在第八天下午的5点半,正式进入厦门.</p>
<p>厦门之行理应到此结束,剩下就是游玩.如果没有凌晨被自虐的环岛.</p>
<p>进了厦门,直奔厦大投奔同学.但是到了厦大以后才发现要排队进去,准备转身离开的时候遇到了同是广州过来的3人小组.然后就勾搭上了.一起从6点玩到晚上8点.他们已经是第二天到厦门了,再玩一天就走.那天刚好准备绕一下厦大.刚好同学打电话来说有点急事要处理,我就和他们一起找不用排队的后门和芙蓉隧道.</p>
<p>晚上8点他们邀请我一起吃饭的时候,想到队友搭车马上要到了,只好回绝了他们.事实证明,这是个正确的选择,厦大的同学最后请我们去豪客来撮了一顿.10点离开的时候本来我想着找酒店住的,这样方便放车,然后第二天去鼓浪屿和其他地方到处走走.没想到队友居然说太贵还不如留着钱来吃.我们只好住帐篷了.住帐篷就算了,他在一天没有骑车的情况下用十公里出头的时速夜骑了三个小时,当时我就发誓再也不会这样慢慢骑车了.中途路过海滩,在海滩上默默蹲了很久.还是没有想出此行的意义.</p>
<p>也许强行给所有遇到的事情安上意义是没有必要的事情.并非所有的事情都是理性可以解释的,很多事情不需要理由.</p>
<h3 id="第九天">第九天</h3><p>早上5点就起床了.困得受不了.大概以后我再也不会用这种方式搭帐篷.</p>
<p>继续用龟速环岛骑行.然后随便找了个消防通道把车锁了,徒步去鼓浪屿.鼓浪屿不愧是满满小资情怀的地方,各种各具特色门店.这些其实真没什么好讲,只有自己看了才知道.反正东西买不起,难道还吃不起么.于是把想吃的都吃了一遍.下午三四点的时候老爸就来了个电话说是台风要到了.于是查了一下,台风会在第二天早上到达福建.于是我们就逃命回广州了.</p>
<p>由于三天之内都只能订到站票.我们无奈只能搭巴士回去.然后一部车被砍了80.听公司之前去过厦门的人说,他们当时讲价讲到2部车30.这就是人之间的差距,这也是为什么他在产品部门而我在研发部门的重要原因之一.</p>
<p>6点多开始等巴士,被告知8点半,7点多开始就开始飘着小雨了.看来回去果然是个正确的选择.然后边等边拆车,才发现我的前轮滚起来一点都不顺滑,这样的车况我还能用那种速度骑,如果换了一部更好的车的话,大概骑起来会更快.最后上车出发的时候已经9点一刻了.</p>
<p>回来之后算了一下,其实骑行比直接火车过去旅游还要更花钱,我还好,毕竟蹭吃蹭住了几天,第二队出发的比我多用了六七百.而且他们住宿还要比我便宜,因为他们有五六个人,开一间双人房.我真的觉得组队的意义就是分担住宿费,结果这一躺下来住宿几乎都是我一个人自己住.</p>
<h3 id="第十天">第十天</h3><p>巴士最大的优点是开得快.9点出发,早上5点40就到广园客运站了.虽然卧铺睡得很不爽,太短了,但是至少还是睡了一觉的.上次坐卧铺车已经是13年前了.上一次应该是千禧年回老家的时候了.</p>
<p>给老爸,表姐,同学发短信报了平安以后就开始骑回大学城.路过华农,本来想去找之前在肇庆遇到的妹子的,不过只有QQ没有电话也没法联系,遂作罢.想去华工北校找同学一起吃早餐,结果问了才知道已经回深圳了.然后就默默在路上随便找了家地方吃饭.</p>
<p>回到宿舍以后居然不困了.我已经不记得回来之后的那个早上在干什么了.中午把车彻底洗了一遍(当然过了两天出去骑车结果被雨淋又弄脏了什么的也是没办法的事情)</p>
<p>至此,旅程结束.</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


      
    
  </div>

  
  <div class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/aniki.png" alt="slixurd" />
          <p class="site-author-name">slixurd</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/slixurd" target="_blank">Github</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/slixurd" target="_blank">Twitter</a>
            </span>
            
          
        </div>

        
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">slixurd</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  

  
  
  

  

    
      
    

    <script type="text/javascript">
      var disqus_shortname = 'slixurd';
      var disqus_identifier = 'index.html';
      var disqus_title = '';
      var disqus_url = '';

      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }());
    </script>
  





  
  

</body>
</html>
